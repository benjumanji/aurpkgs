# Maintainer: Guillaume ALAUX <guillaume at alaux dot net>
# Contributor: Adrian Berriel <berriel@gmail.com>
# Contributor: Tomas Urgosik <tomas.urgosik@gmail.com>
# Contributor: Lee.MaRS <leemars@gmail.com>
pkgname=gwt
pkgver=2.6.0
pkgrel=1
pkgdesc='Google Web Toolkit - core libraries and compiler to write web applications'
arch=('any')
url='https://developers.google.com/web-toolkit/'
license=('APACHE')
depends=('java-environment')
source=("http://google-web-toolkit.googlecode.com/files/${pkgname}-${pkgver}.zip")
sha256sums=('bd4c13a5d1078446d519a742ee233971e55c447d1b87ffd5b1f90e54dd876b9a')

package() {
  cd "${srcdir}"
  install -d "${pkgdir}"/{opt,usr/bin}
  cp -R ${pkgname}-${pkgver} "${pkgdir}"/opt/${pkgname}
  sed -i 's/`dirname $0`/\/opt\/gwt/' "${pkgdir}"/opt/${pkgname}/webAppCreator
  ln -s /opt/gwt/webAppCreator "${pkgdir}"/usr/bin/webAppCreator
  find "${pkgdir}" -name "*.dll" -o -name "*.cmd" -delete
}
